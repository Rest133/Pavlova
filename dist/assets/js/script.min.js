function openBenefitStructure(){document.querySelectorAll(".benefit-structure__element").forEach(e=>{e.querySelector(".benefit-structure__element-row").addEventListener("click",t=>{e.querySelector(".benefit-structure__img").classList.toggle("active"),e.querySelector(".benefit-structure__text").classList.toggle("active")})})}function addBurgerMenuHandler(){let e=document.querySelector(".burger-menu"),t=document.querySelector(".header-menu");e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")?document.body.style.overflow="hidden":document.body.style.overflow=""}),t.querySelectorAll(".header-element").forEach(o=>{o.addEventListener("click",()=>{t.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")})})}function popupHandler(){let e=document.querySelectorAll(".header-menu-btn"),t=document.querySelector(".wrapper__popup"),o=t.querySelector(".popup__close"),r=document.querySelectorAll(".complex-element__btn");o.addEventListener("click",()=>{t.classList.remove("active"),document.body.style.overflow=""}),e.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("active"),document.body.style.overflow="hidden"})}),r.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("active"),document.body.style.overflow="hidden"})})}function addFormsSendHandler(){document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",t=>{formSend(t,e)})})}async function formSend(e,t){e.preventDefault();let o=formValidate(t),r=new FormData(t);if(0===o){if((await fetch("sendmail.php",{method:"POST",body:r})).ok){let e=t.querySelector("button").textContent;t.querySelector("button").textContent="Отправлено",setTimeout((function(){t.reset(),t.querySelector("button").textContent=e}),1500)}else t.querySelector("button").classList.add("error"),t.querySelector("button").textContent="Что-то пошло не так..."}else console.log("error in form")}function formValidate(e){let t;return e.querySelectorAll("input").forEach(e=>{t=e.required?0:1}),t}function addSameHeight(){if(null!==document.querySelector(".complexes-row")){let e=document.querySelector(".complexes-row").querySelectorAll(".complex-element__text-part"),t=0;e.forEach(e=>{e.getBoundingClientRect().height>t&&(t=e.getBoundingClientRect().height)}),e.forEach(e=>{e.style.height=t+"px"})}}function addPhoneMasks(){let e=document.querySelectorAll("input[type=tel]"),t={mask:"+{7}(000)000-00-00"};e.forEach(e=>{IMask(e,t)})}function addSlider(){$(document).ready((function(){$(".slider").slick({dots:!0,slidesToShow:3,variableWidth:!0,adaptiveHeight:!0,centerMode:!0})}))}document.addEventListener("DOMContentLoaded",(function(){addBurgerMenuHandler(),popupHandler(),addFormsSendHandler(),addSameHeight(),addPhoneMasks(),openBenefitStructure(),addSlider()}));