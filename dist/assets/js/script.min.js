function addBurgerMenuHandler(){let e=document.querySelector(".burger-menu"),t=document.querySelector(".header-menu");e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")?document.body.style.overflow="hidden":document.body.style.overflow=""}),t.querySelectorAll(".header-element").forEach(o=>{o.addEventListener("click",()=>{t.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")})})}function popupHandler(){let e=document.querySelectorAll(".header-menu-btn"),t=document.querySelector(".wrapper__popup"),o=t.querySelector(".popup__close"),n=document.querySelectorAll(".complex-element__btn");o.addEventListener("click",()=>{t.classList.remove("active"),document.body.style.overflow=""}),e.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("active"),document.body.style.overflow="hidden"})}),n.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("active"),document.body.style.overflow="hidden"})})}function addFormsSendHandler(){document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",t=>{formSend(t,e)})})}async function formSend(e,t){e.preventDefault();let o=formValidate(t),n=new FormData(t);if(0===o){if((await fetch("sendmail.php",{method:"POST",body:n})).ok){let e=t.querySelector("button").textContent;t.querySelector("button").textContent="Отправлено",setTimeout((function(){t.reset(),t.querySelector("button").textContent=e}),1500)}else t.querySelector("button").classList.add("error"),t.querySelector("button").textContent="Что-то пошло не так..."}else console.log("error in form")}function formValidate(e){let t;return e.querySelectorAll("input").forEach(e=>{t=e.required?0:1}),t}document.addEventListener("DOMContentLoaded",(function(){addBurgerMenuHandler(),popupHandler(),addFormsSendHandler()}));